<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />

    <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet" />

    <style>
      p {
        margin: 0;
      }
      input[type='submit'],
      button {
        cursor: pointer;
      }
      form {
        display: flex;
        align-items: center;
      }
      table {
        margin-top: 10px;
      }
      #edit-box {
        display: none;
        margin-top: 10px;
      }
      button {
        background: none;
        border: none;
        color: #000;
        padding: 0;
        height: 20px;
        outline: none;
      }
      td {
        padding: 5px;
      }

      /* List Ori */
      /* .title {
        text-align: center;
        margin-top: 25px;
      }
      .form {
        margin: auto;
        max-width: 80%;
        text-align: center;
      }
      input[type='submit'],
      button,
      [aria-label] {
        cursor: pointer;
      }
      #edit-box {
        display: none;
        max-width: 80%;
        margin: auto;
        margin-top: 10px;
      }
      td {
        background-color: aliceblue;
        padding: 0 10px 0 0;
        text-align: left;
      }
      .to-do {
        background-color: transparent !important;
      } */
      /* Akhir List Ori */
    </style>

    <title>Hello, world!</title>
  </head>
  <body>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-6 bg-light rounded mt-5 p-5">
          <!--  -->
          <div class="d-flex rounded bg-dark text-light p-3 fw-bold">
            <p class="me-auto">You Have :</p>
            <p id="counter"></p>
          </div>
          <div class="form">
            <form action="javascript:void(0);" method="post" onsubmit="app.Add()">
              <input class="form-control" type="text" id="add-todo" placeholder="Thing To-Do" />
              <button type="submit" value="Add" class="b ms-2">Add</button>
            </form>
            <table>
              <tbody id="tasks"></tbody>
            </table>
          </div>
          <!--  -->
          <div id="edit-box" role="aria-hidden">
            <form action="javascript:void(0);" id="save-edit" method="post">
              <input class="form-control" type="text" id="edit-todo" />
              <button class="mx-2" type="submit" value="Save"><i class="bx bxs-save text-success fs-5"></i></button>
              <button onclick="CloseInput()" aria-label="Close"><i class="bx bxs-x-square text-danger fs-5"></i></button>
            </form>
          </div>
          <!--  -->
        </div>
      </div>
    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <script>
      // Newest
      // var app = new (function () {
      //   this.el = document.getElementById('tasks');
      //   this.tasks = [];

      //   this.FetchAll = function () {
      //     var data = '';

      //     if (this.tasks.length > 0) {
      //       for (i = 0; i < this.tasks.length; i++) {
      //         data += '<tr>';
      //         data += '<td class="w-100">' + (i + 1) + '.' + ' ' + this.tasks[i] + '</td>';
      //         data += '<td><input type="checkbox" class="align-middle" style="width: 17px; height: 17px;" /></td>';
      //         data += '<td><button onclick="app.Edit(' + i + ')" class="align-middle"><i class="bx bxs-edit fs-5 " ></i></button></td> ';
      //         data += '<td><button onclick="app.Delete(' + i + ')" class="align-middle"><i class="bx bx-trash fs-5 "></i></button></td> ';
      //         data += '</tr>';
      //       }
      //     }
      //     this.Count(this.tasks.length);
      //     return (this.el.innerHTML = data);
      //   };

      //   this.Add = function () {
      //     el = document.getElementById('add-todo');
      //     var task = el.value;
      //     if (task) {
      //       this.tasks.push(task.trim());
      //       el.value = '';
      //       this.FetchAll();
      //     }
      //   };

      //   this.Edit = function (item) {
      //     el = document.getElementById('edit-todo');
      //     el.value = this.tasks[item];
      //     document.getElementById('edit-box').style.display = 'block';
      //     self = this;

      //     document.getElementById('save-edit').onsubmit = function () {
      //       var task = el.value;
      //       if (task) {
      //         self.tasks.splice(item, 1, task.trim());
      //         self.FetchAll();
      //         CloseInput();
      //       }
      //     };
      //   };

      //   this.Delete = function (item) {
      //     this.tasks.splice(item, 1);
      //     this.FetchAll();
      //   };

      //   this.Count = function (data) {
      //     var el = document.getElementById('counter');
      //     var name = 'Tasks';
      //     if (data) {
      //       if (data == 1) {
      //         name = 'Task';
      //       }
      //       el.innerHTML = data + ' ' + name;
      //     } else {
      //       el.innerHTML = 'No ' + name;
      //     }
      //   };
      // })();

      // app.FetchAll();
      // function CloseInput() {
      //   document.getElementById('edit-box').style.display = 'none';
      // }
      // Akhir New

      // Ori
      // var app = new (function () {
      //   this.el = document.getElementById('tasks');
      //   this.tasks = [];

      //   this.FetchAll = function () {
      //     var data = '';

      //     if (this.tasks.length > 0) {
      //       for (i = 0; i < this.tasks.length; i++) {
      //         data += '<tr>';
      //         data += '<td>' + (i + 1) + '.' + this.tasks[i] + '</td>';
      //         data += '<td><button onclick="app.Edit(' + i + ')" class="btn btn-warning">Edit</button></td> ';
      //         data += '<td><button onclick="app.Delete(' + i + ')" class="btn btn-danger">Delete</button></td> ';
      //         data += '</tr>';
      //       }
      //     }
      //     this.Count(this.tasks.length);
      //     return (this.el.innerHTML = data);
      //   };

      //   this.Add = function () {
      //     el = document.getElementById('add-todo');
      //     var task = el.value;
      //     if (task) {
      //       this.tasks.push(task.trim());
      //       el.value = '';
      //       this.FetchAll();
      //     }
      //   };

      //   this.Edit = function (item) {
      //     el = document.getElementById('edit-todo');
      //     el.value = this.tasks[item];
      //     document.getElementById('edit-box').style.display = 'block';
      //     self = this;

      //     document.getElementById('save-edit').onsubmit = function () {
      //       var task = el.value;
      //       if (task) {
      //         self.tasks.splice(item, 1, task.trim());
      //         self.FetchAll();
      //         CloseInput();
      //       }
      //     };
      //   };

      //   this.Delete = function (item) {
      //     this.tasks.splice(item, 1);
      //     this.FetchAll();
      //   };

      //   this.Count = function (data) {
      //     var el = document.getElementById('counter');
      //     var name = 'Tasks';
      //     if (data) {
      //       if (data == 1) {
      //         name = 'Task';
      //       }
      //       el.innerHTML = data + ' ' + name;
      //     } else {
      //       el.innerHTML = 'No ' + name;
      //     }
      //   };
      // })();

      // app.FetchAll();
      // function CloseInput() {
      //   document.getElementById('edit-box').style.display = 'none';
      // }
      // Akhir Ori

      // versi lama
      // var app = new (function () {
      //   this.el = document.getElementById('tasks');
      //   this.tasks = [];

      //   this.FetchAll = function () {
      //     var data = '';

      //     if (this.tasks.length > 0) {
      //       for (i = 0; i < this.tasks.length; i++) {
      //         data += '<tr>';
      //         data += '<td> <input type="checkbox" class="d-flex align-items-center" style="width: 15px; height: 15px;" /></td>';
      //         data += '<td class="w-100">' + (i + 1) + '.' + this.tasks[i] + '</td>';
      //         data += '<td><button onclick="app.Edit(' + i + ')" class="btn"><i class="bx bxs-edit fs-5 " ></i></button></td> ';
      //         data += '<td><button onclick="app.Delete(' + i + ')" class="btn"><i class="bx bxs-x-square fs-5 "></i></button></td> ';
      //         data += '</tr>';
      //       }
      //     }
      //     this.Count(this.tasks.length);
      //     return (this.el.innerHTML = data);
      //   };

      //   this.Add = function () {
      //     el = document.getElementById('add-todo');
      //     var task = el.value;
      //     if (task) {
      //       this.tasks.push(task.trim());
      //       el.value = '';
      //       this.FetchAll();
      //     }
      //   };

      //   this.Edit = function (item) {
      //     el = document.getElementById('edit-todo');
      //     el.value = this.tasks[item];
      //     document.getElementById('edit-box').style.display = 'block';
      //     self = this;

      //     document.getElementById('save-edit').onsubmit = function () {
      //       var task = el.value;
      //       if (task) {
      //         self.tasks.splice(item, 1, task.trim());
      //         self.FetchAll();
      //         CloseInput();
      //       }
      //     };
      //   };

      //   this.Delete = function (item) {
      //     this.tasks.splice(item, 1);
      //     this.FetchAll();
      //   };

      //   this.Count = function (data) {
      //     var el = document.getElementById('counter');
      //     var name = 'Tasks';
      //     if (data) {
      //       if (data == 1) {
      //         name = 'Task';
      //       }
      //       el.innerHTML = data + ' ' + name;
      //     } else {
      //       el.innerHTML = 'No ' + name;
      //     }
      //   };
      // })();

      // app.FetchAll();
      // function CloseInput() {
      //   document.getElementById('edit-box').style.display = 'none';
      // }
      // akhir versi lama
    </script>

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>
